<!DOCTYPE html>
<html>
<head><title>TagName Test</title></head>
<body>
    <script>
        // Quick test to check tagName casing issue
        const htmlRect = document.createElement('rect');
        const svgRect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');

        console.log('HTML rect tagName:', htmlRect.tagName);
        console.log('SVG rect tagName:', svgRect.tagName);
        console.log('HTML rect namespace:', htmlRect.namespaceURI);
        console.log('SVG rect namespace:', svgRect.namespaceURI);

        // Test creating SVG element with uppercase tagName
        try {
            const badSvg = document.createElementNS('http://www.w3.org/2000/svg', 'RECT');
            console.log('Bad SVG rect tagName:', badSvg.tagName);
            console.log('Bad SVG rect namespace:', badSvg.namespaceURI);
        } catch (e) {
            console.log('Error creating SVG with uppercase:', e);
        }
        
        // Test the actual problem
        console.log('\n=== Testing the actual issue ===');
        
        // Create HTML rect like our code does
        const htmlEl = document.createElement('rect');
        htmlEl.setAttribute('width', '50');
        htmlEl.setAttribute('height', '50');
        
        console.log('Original HTML element tagName:', htmlEl.tagName);
        console.log('Using element.tagName to create SVG...');
        
        const recreated = document.createElementNS('http://www.w3.org/2000/svg', htmlEl.tagName);
        console.log('Recreated SVG element tagName:', recreated.tagName);
        console.log('Recreated SVG element namespace:', recreated.namespaceURI);
        
        // Test with lowercase
        const recreatedLower = document.createElementNS('http://www.w3.org/2000/svg', htmlEl.tagName.toLowerCase());
        console.log('Recreated lowercase SVG element tagName:', recreatedLower.tagName);
        console.log('Recreated lowercase SVG element namespace:', recreatedLower.namespaceURI);
    </script>
</body>
</html>